[
  {
    "id": "moving-average",
    "title": "Moving Average Chart",
    "data": {
      "datasetId": "prices_daily",
      "fields": [
        { "name": "date",  "type": "temporal",     "accessor": "date" },
        { "name": "price", "type": "quantitative", "accessor": "price" },
        { "name": "ma",    "type": "quantitative", "accessor": "movingAverage" }
      ]
    },
    "space": { "width": 800, "height": 400 },
    "scales": {
      "x": { "type": "time",   "range": [50, 750] },
      "y": { "type": "linear", "range": [350, 50], "nice": true }
    },
    "layers": [
      { "id": "price",   "mark": {"type":"line"},
        "encoding": { "x": {"field":"date","scale":"x"}, "y": {"field":"price","scale":"y"}, "stroke": {"value":"lightgray"} } },
      { "id": "average", "mark": {"type":"line"},
        "encoding": { "x": {"field":"date","scale":"x"}, "y": {"field":"ma",   "scale":"y"}, "stroke": {"value":"steelblue"}, "strokeWidth": {"value":2} } }
    ]
  },

  {
    "id": "cluster",
    "title": "Cluster Dendrogram",
    "data": {
      "datasetId": "toy_hierarchy",
      "fields": [
        { "name":"name",  "type":"nominal",      "accessor":"data.name" },
        { "name":"x",     "type":"quantitative", "accessor":"x" },
        { "name":"y",     "type":"quantitative", "accessor":"y" },
        { "name":"depth", "type":"quantitative", "accessor":"depth" }
      ],
      "transforms": [
        { "type":"hierarchy", "params":{} },
        { "type":"cluster",   "params": { "size": [350,700] } }
      ]
    },
    "space": { "width": 800, "height": 400 },
    "scales": { "color": { "type": "ordinal", "scheme": "Set3" } },
    "layers": [
      { "id":"links", "mark": {"type":"line"},
        "encoding": { "x": {"field":"source.y"}, "y": {"field":"source.x"}, "x2": {"field":"target.y"}, "y2": {"field":"target.x"}, "stroke": {"value":"#555"}, "strokeWidth": {"value":1} } },
      { "id":"nodes", "mark": {"type":"circle"},
        "encoding": { "x": {"field":"y"}, "y": {"field":"x"}, "r": {"value":3}, "fill": {"field":"depth", "scale":"color"}, "stroke": {"value":"#333"} } }
    ]
  },

  {
    "chartType": "line",
    "datasetId": "sales_monthly",
    "title": "Monthly Sales (shorthand)",
    "x": "date",
    "y": "sales"
  }
]