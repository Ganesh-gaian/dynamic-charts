<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>D3 Spec Renderer (wide support)</title>
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 24px; }
    .chart { margin-bottom: 28px; }
    .titleRow { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; gap: 12px; }
    .title { font-weight: 600; margin: 0; }
    .controls { display: flex; align-items: center; gap: 8px; }
    .controls label { font-size: 12px; color: #555; }
    .controls select { font-size: 12px; padding: 4px 8px; }
    .axis path, .axis line { shape-rendering: crispEdges; }
    .axis text { font-size: 11px; }
    .grid line { opacity: .25; }
  </style>
</head>
<body>
  
       <script>window.__SPECS__ = [ {
    "id": "cluster",
    "title": "Cluster Dendrogram",
    "data": {
      "source": {
        "type": "inline",
        "data": {
          "name": "root",
          "children": [
            {
              "name": "Cluster A",
              "children": [
                {
                  "name": "Item 1"
                },
                {
                  "name": "Item 2"
                },
                {
                  "name": "Item 3"
                }
              ]
            },
            {
              "name": "Cluster B",
              "children": [
                {
                  "name": "Item 4"
                },
                {
                  "name": "Item 5"
                },
                {
                  "name": "Item 6"
                }
              ]
            }
          ]
        }
      },
      "transforms": [
        {
          "type": "hierarchy",
          "params": {}
        },
        {
          "type": "cluster",
          "params": {
            "size": [350, 700]
          }
        }
      ],
      "fields": [
        {
          "name": "name",
          "type": "nominal",
          "accessor": "data.name"
        },
        {
          "name": "x",
          "type": "quantitative",
          "accessor": "x"
        },
        {
          "name": "y",
          "type": "quantitative",
          "accessor": "y"
        },
        {
          "name": "depth",
          "type": "quantitative",
          "accessor": "depth"
        }
      ]
    },
    "space": {
      "width": 800,
      "height": 400
    },
    "scales": {
      "color": {
        "type": "ordinal",
        "scheme": "Set3"
      }
    },
    "layers": [
      {
        "id": "links",
        "mark": {
          "type": "line"
        },
        "encoding": {
          "x": {
            "field": "source.y"
          },
          "y": {
            "field": "source.x"
          },
          "x2": {
            "field": "target.y"
          },
          "y2": {
            "field": "target.x"
          },
          "stroke": {
            "value": "#555"
          }
        }
      },
      {
        "id": "nodes",
        "mark": {
          "type": "circle"
        },
        "encoding": {
          "x": {
            "field": "y"
          },
          "y": {
            "field": "x"
          },
          "r": {
            "value": 3
          },
          "fill": {
            "field": "depth",
            "scale": "color"
          }
        }
      }
    ]
  } ];</script>
 
  <div id="root"></div>
  <script src="./app.js" defer></script>
</body>
</html>
